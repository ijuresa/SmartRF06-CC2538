#ifndef LED_STATE_C_
#define LED_STATE_C

/*******************************************************************************
 *                       INCLUDE FILES
 ******************************************************************************/
#include "led_state.h"

/*******************************************************************************
* @brief    Initialize digital pin for LEDs on CC2538
********************************************************************************
* @return   Nothing
********************************************************************************
* @date     2017-07-04
*******************************************************************************/
void LED_init() {
    GPIOPinTypeGPIOOutput(LED_PORT_GPIO_BASE, LED_PDIO);
    GPIOPinWrite(LED_PORT_GPIO_BASE, LED_PDIO, SET_LOW);
}

/*******************************************************************************
* @brief    Digital Write for LED dPin
********************************************************************************
* @return   Nothing
********************************************************************************
* @date     2017-07-04
*******************************************************************************/
static inline void LED_digiWrite(uint8_t value) {
    // TODO: Write it in more modular way
    if(value > SET_HIGH) {
        // Set error
        return;
    }
    else if(value == SET_LOW) GPIOPinWrite(LED_PORT_GPIO_BASE, LED_PDIO, 0);
    else GPIOPinWrite(LED_PORT_GPIO_BASE, LED_PDIO, LED_PDIO);
}

/*******************************************************************************
* @brief    Turn LED ON
********************************************************************************
* @return   Nothing
********************************************************************************
* @date     2017-07-04
*******************************************************************************/
void LED_turnOn() {
    LED_digiWrite(SET_HIGH);
}

/*******************************************************************************
* @brief    Turn LED OFF
********************************************************************************
* @return   Nothing
********************************************************************************
* @date     2017-07-04
*******************************************************************************/
void LED_turnOff() {
    LED_digiWrite(SET_LOW);
}

/*******************************************************************************
* @brief    Toggle LED
********************************************************************************
* @return   Nothing
********************************************************************************
* @date     2017-07-06
*******************************************************************************/
void LED_toggle() {
    uint32_t toggle = GPIOPinRead(LED_PORT_GPIO_BASE, LED_PDIO);

    toggle = ((~toggle) & LED_PDIO);

    GPIOPinWrite(LED_PORT_GPIO_BASE, LED_PDIO, toggle);
}

/*******************************************************************************
* @brief    Initialize digital pin for LEDs on CC2538
********************************************************************************
* @return   Nothing
********************************************************************************
* @date     2017-07-04
*******************************************************************************/
void LED_set() {
    // Deprecated
}

/*******************************************************************************
 *                       END OF FILE
 ******************************************************************************/

#endif // LED_STATE_C

